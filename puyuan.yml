- docker_name: traderslink
  docker_compose:
    image: puyuantech/traderslink:latest
    ports: 
    - '5000-5007:5000-5007'
    command: >
      bash -c "linker_master &
               gun start mr -f market1 && 
               gun start tr -f trade1 &&
               gun start mg -a femas2 -g femas -r market1 && 
               gun run tg -a femas1 -g femas -r trade1"
  config:
    master_rep: tcp://127.0.0.1:5000
    master_rep_port: 5000
    env: env1
    env_infos:
    - env_name: env1
      private_ip: 0.0.0.0
      public_ip: 127.0.0.1
    # modules should be listed with source_id index
    modules:
    - addrs:
        Zmq_PUB:
          comm_method: TCP
          port: 5001
        Zmq_REP:
          comm_method: TCP
          port: 5000
      fist_name: master
      fist_type: MASTER
      source_id: 0
    - addrs:
        Zmq_PUB:
          comm_method: TCP
          port: 5004
        Zmq_PULL:
          comm_method: TCP
          port: 5002
        Zmq_REP:
          comm_method: TCP
          port: 5003
      env_name: env1
      fist_name: market1
      fist_type: MARKET_ROUTER
      source_id: 1
    - addrs:
        Zmq_PUB:
          comm_method: TCP
          port: 5007
        Zmq_PULL:
          comm_method: TCP
          port: 5005
        Zmq_REP:
          comm_method: TCP
          port: 5006
      env_name: env1
      fist_name: trade1
      fist_type: TRADE_ROUTER
      source_id: 2
    notification_center:
      slack: ''
    gateway_reconnection_policy:
      max_retry_times: 20
      retry_interval_in_seconds: 5
    heartbeat:
      heartbeat_interval_in_milliseconds: 1000
      max_allowed_missing_heatbeats: 5
    accounts:
      femas1:
        broker_id: '0129'
        front_uri: tcp://58.246.171.89:50602
        gateway_name: femas
        gateway_type: TRADE_GATEWAY
        investor_id: 
        password: 
        user_id: 
      femas2:
        broker_id: '0129'
        exchange_id: SHFE
        front_uri: tcp://58.246.171.89:50603
        gateway_name: femas
        gateway_type: MARKET_GATEWAY
        password: 
        user_id: 